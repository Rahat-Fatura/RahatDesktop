<%- include('../../partials/doctype.ejs') %>

<head>
    <%- include('../../partials/header') %>
    <title><%= page.display %> - <%= app.name %></title>
    <%- include('../../partials/theme_css') %>
    <link rel="stylesheet" data-name="vs/editor/editor.main" href="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.45.0/min/vs/editor/editor.main.min.css">
</head>

<body>
    <!-- Layout wrapper -->
    <div class="layout-wrapper layout-navbar-full layout-horizontal layout-without-menu">
        <div class="layout-container">
            <%- include('../../partials/navbar') %>
            <div class="layout-page">
                <div class="content-wrapper">
                    <%- include('../../partials/menu') %>

                    <div class="container-xxl flex-grow-1 container-p-y">
                        <div class="col-12">
                            <h6 class="text-muted">Vertical</h6>
                            <div class="nav-align-left nav-tabs-shadow mb-4">
                                <ul class="nav nav-tabs ps-2 pt-2 pb-3" role="tablist">
                                    <li class="nav-item" role="presentation">
                                        <button type="button" class="nav-link active" role="tab" data-bs-toggle="tab" data-bs-target="#app-config" aria-controls="app-config" aria-selected="true">
                                            <div class="avatar avatar me-3">
                                                <span class="avatar-initial rounded bg-github">
                                                    <i class="ti ti-settings-cog ti-md rounded"></i>
                                                </span>
                                            </div>
                                            Genel
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button type="button" class="nav-link" role="tab" data-bs-toggle="tab" data-bs-target="#invoices-config" aria-controls="invoices-config" aria-selected="true">
                                            <div class="avatar avatar me-3">
                                                <span class="avatar-initial rounded bg-linkedin">
                                                    <i class="ti ti-file-dollar ti-md rounded"></i>
                                                </span>
                                            </div>
                                            Faturalar
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button type="button" class="nav-link" role="tab" data-bs-toggle="tab" data-bs-target="#despatches-config" aria-controls="despatches-config" aria-selected="false" tabindex="-1">
                                            <div class="avatar avatar me-3">
                                                <span class="avatar-initial rounded bg-warning">
                                                    <i class="ti ti-file-invoice ti-md rounded"></i>
                                                </span>
                                            </div>
                                            İrsaliyeler
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button type="button" class="nav-link" role="tab" data-bs-toggle="tab" data-bs-target="#company-config" aria-controls="company-config" aria-selected="false" tabindex="-1">
                                            <div class="avatar avatar me-3">
                                                <span class="avatar-initial rounded bg-google-plus">
                                                    <i class="ti ti-file-settings ti-md rounded"></i>
                                                </span>
                                            </div>
                                            Konfigürasyon
                                        </button>
                                    </li>
                                </ul>
                                <div class="tab-content">
                                    <div class="tab-pane fade show active" id="app-config" role="tabpanel">
                                        <h5 class="mb-4">Genel Ayarlar</h5>
                                        <div class="mb-3">
                                            <label class="switch switch-square switch-lg switch-success">
                                                <input id="autolaunch-checkbox" type="checkbox" class="switch-input" <% if(data.autoLaunch) { %> checked <% } %>>
                                                <span class="switch-toggle-slider">
                                                    <span class="switch-on">
                                                        <i class="ti ti-check"></i>
                                                    </span>
                                                    <span class="switch-off">
                                                        <i class="ti ti-x"></i>
                                                    </span>
                                                </span>
                                                <span class="switch-label">
                                                    <span class="badge badge-center rounded-pill bg-label-dark ms-2 me-2" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-custom-class="tooltip-label-dark" data-bs-original-title="Eğer seçenek aktifse, bilgisayar açıldığında uygulama otomatik olarak açılır.">
                                                        <i class="ti ti-question-mark"></i>
                                                    </span>
                                                    Açılışta otomatik açılsın (Önerilir)
                                                </span>
                                            </label>
                                        </div>
                                        <div class="mb-3">
                                            <label class="switch switch-square switch-lg switch-success">
                                                <input id="cron-checkbox" type="checkbox" class="switch-input" <% if(data.cron) { %> checked <% } %>>
                                                <span class="switch-toggle-slider">
                                                    <span class="switch-on">
                                                        <i class="ti ti-check"></i>
                                                    </span>
                                                    <span class="switch-off">
                                                        <i class="ti ti-x"></i>
                                                    </span>
                                                </span>
                                                <span class="switch-label">
                                                    <span class="badge badge-center rounded-pill bg-label-dark ms-2 me-2" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-custom-class="tooltip-label-dark" data-bs-original-title="Eğer seçenek aktifse, entegre uygulama düzenli olarak sorgulanır. Daha önce gönderilmemiş belge var ise otomatik gönderir.">
                                                        <i class="ti ti-question-mark"></i>
                                                    </span>
                                                    Düzenli veritabanı sorgusu
                                                </span>
                                            </label>
                                        </div>
                                        <div class="mb-3">
                                            <label class="switch switch-square switch-lg switch-success">
                                                <input id="rmq-checkbox" type="checkbox" class="switch-input" <% if(data.rmq) { %> checked <% } %>>
                                                <span class="switch-toggle-slider">
                                                    <span class="switch-on">
                                                        <i class="ti ti-check"></i>
                                                    </span>
                                                    <span class="switch-off">
                                                        <i class="ti ti-x"></i>
                                                    </span>
                                                </span>
                                                <span class="switch-label">
                                                    <span class="badge badge-center rounded-pill bg-label-dark ms-2 me-2" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-custom-class="tooltip-label-dark" data-bs-original-title="Eğer seçenek aktifse, uzak sistem dinlemeye başlanır. Sistem üzerinden fatura yenileme, fatura numarası güncelleme bildirimleri vs. gelirse ilgili işlemi gerçekleştirir.">
                                                        <i class="ti ti-question-mark"></i>
                                                    </span>
                                                    Uzak sistem dinleme
                                                </span>
                                            </label>
                                        </div>
                                        <hr>
                                        <div class="col-12 row">
                                            <div class="col-10">
                                                <p class="mt-2">Log dosyası konumu : <%= data.logsPath %> </p>
                                            </div>
                                            <div class="col-2">
                                                <button id="open-log-folder" type="button" class="btn btn-label-success waves-effect">Klasörde Göster</button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" id="invoices-config" role="tabpanel">
                                        <div class="card mb-4">
                                            <div class="card-body">
                                                <div class="card-title header-elements mb-4">
                                                    <h5 class="m-0 me-2">Fatura Parametreleri</h5>
                                                    <div class="card-title-elements ms-auto">
                                                        <button id="save-invoice-sqls" type="button" class="btn btn-sm btn-success waves-effect waves-light">Değişiklikleri Kaydet</button>
                                                    </div>
                                                </div>
                                                <div class="row col-12">
                                                    <div class="col-3">
                                                        <div id="invoice-sqls-tree"></div>
                                                    </div>
                                                    <div class="col-9">
                                                        <div id="invoice_sql_editor" style="height:500px;border: 1px;border-radius: 10%;"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" id="despatches-config" role="tabpanel">
                                        <div class="card mb-4">
                                            <div class="card-body">
                                                <div class="card-title header-elements mb-4">
                                                    <h5 class="m-0 me-2">İrsaliye Parametreleri</h5>
                                                    <div class="card-title-elements ms-auto">
                                                        <button id="save-despatch-sqls" type="button" class="btn btn-sm btn-success waves-effect waves-light">Değişiklikleri Kaydet</button>
                                                    </div>
                                                </div>
                                                <div class="row col-12">
                                                    <div class="col-3">
                                                        <div id="despatch-sqls-tree"></div>
                                                    </div>
                                                    <div class="col-9">
                                                        <div id="despatch_sql_editor" style="height:500px;border: 1px;border-radius: 10%;"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" id="company-config" role="tabpanel">
                                        <div class="card mb-4">
                                            <div class="card-body">
                                                <div class="card-title header-elements mb-4">
                                                    <h5 class="m-0 me-2">Firma Parametreleri</h5>
                                                    <div class="card-title-elements ms-auto">
                                                        <button id="save-company-config" type="button" class="btn btn-sm btn-success waves-effect waves-light">Değişiklikleri Kaydet</button>
                                                    </div>
                                                </div>
                                                <div class="row col-12">
                                                    <div id="company_params_editor" style="height:500px;border: 1px;border-radius: 10%;"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <%- include('../../partials/footer') %>
                    <div class="content-backdrop fade"></div>
                </div>
                <!-- Content wrapper -->
            </div>
            <!-- / Layout page -->
        </div>
        <!-- Overlay -->
        <div class="layout-overlay layout-menu-toggle"></div>
        <!-- Drag Target Area To SlideIn Menu On Small Screens -->
        <div class="drag-target"></div>
    </div>
    <%- include('../../partials/theme_js') %>
    <script>
        var require = {
            paths: {
                'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.45.0/min/vs'
            }
        };
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.45.0/min/vs/loader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.45.0/min/vs/editor/editor.main.nls.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.45.0/min/vs/editor/editor.main.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.45.0/min/vs/language/json/jsonMode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.45.0/min/vs/basic-languages/sql/sql.min.js"></script>
</body>

</html>
